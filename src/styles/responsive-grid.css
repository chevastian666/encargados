@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  /* Adaptive Grid System for Tablets */
  
  /* Base responsive grid */
  .tablet-grid {
    @apply grid gap-4;
    /* Mobile: 1 column */
    @apply grid-cols-1;
    /* Tablet portrait: 1-2 columns */
    @apply sm:grid-cols-1 md:grid-cols-2;
    /* Tablet landscape & desktop: 2-3 columns */
    @apply lg:grid-cols-3 xl:grid-cols-3;
  }
  
  /* Compact grid for smaller items */
  .tablet-grid-compact {
    @apply grid gap-3;
    @apply grid-cols-1;
    @apply sm:grid-cols-2 md:grid-cols-2;
    @apply lg:grid-cols-3 xl:grid-cols-4;
  }
  
  /* Dashboard grid specific */
  .dashboard-grid {
    @apply grid gap-4;
    /* Mobile: Stack everything */
    @apply grid-cols-1;
    /* Tablet portrait: 2 columns for main content */
    @apply md:grid-cols-2;
    /* Tablet landscape: 3 columns */
    @apply lg:grid-cols-3;
    /* Desktop: 4 columns */
    @apply xl:grid-cols-4;
  }
  
  /* Card grid for equal-height cards */
  .card-grid {
    @apply grid gap-4 auto-rows-fr;
    @apply grid-cols-1;
    @apply md:grid-cols-2;
    @apply lg:grid-cols-3;
  }
  
  /* List container with scroll */
  .scroll-container {
    @apply overflow-y-auto overflow-x-hidden;
    @apply max-h-[70vh];
    /* Custom scrollbar for better touch experience */
    @apply scrollbar-thin scrollbar-track-gray-100 scrollbar-thumb-gray-400;
    @apply dark:scrollbar-track-gray-800 dark:scrollbar-thumb-gray-600;
  }
  
  /* Tablet-specific scroll container */
  .tablet-scroll-container {
    @apply scroll-container;
    /* Different heights for orientations */
    @apply portrait:max-h-[60vh] landscape:max-h-[70vh];
    /* Smooth scrolling */
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Sticky header base */
  .sticky-header {
    @apply sticky top-0 z-10;
    @apply bg-white dark:bg-gray-800;
    @apply border-b border-gray-200 dark:border-gray-700;
    @apply shadow-sm;
    /* Backdrop for better visibility */
    @apply backdrop-blur-sm bg-opacity-95;
  }
  
  /* Table with sticky header */
  .sticky-table {
    @apply relative;
  }
  
  .sticky-table thead {
    @apply sticky top-0 z-20;
  }
  
  .sticky-table thead tr {
    @apply bg-white dark:bg-gray-800;
    @apply shadow-sm;
  }
  
  .sticky-table thead th {
    @apply bg-white dark:bg-gray-800;
    @apply border-b-2 border-gray-200 dark:border-gray-700;
    @apply px-4 py-3 text-left;
    @apply backdrop-blur-sm bg-opacity-95;
  }
  
  /* Responsive table wrapper */
  .table-wrapper {
    @apply w-full overflow-x-auto;
    @apply tablet-scroll-container;
    @apply rounded-lg border border-gray-200 dark:border-gray-700;
  }
  
  /* Grid item that spans full width on mobile */
  .grid-span-full-mobile {
    @apply col-span-1;
    @apply md:col-span-2 lg:col-span-1;
  }
  
  /* Main content area that takes 2 columns */
  .grid-main-content {
    @apply col-span-1;
    @apply md:col-span-2 lg:col-span-2;
  }
  
  /* Sidebar that takes 1 column */
  .grid-sidebar {
    @apply col-span-1;
    @apply md:col-span-2 lg:col-span-1;
  }
}

@layer utilities {
  /* Responsive max-heights */
  .max-h-tablet-portrait {
    @apply portrait:max-h-[60vh];
  }
  
  .max-h-tablet-landscape {
    @apply landscape:max-h-[75vh];
  }
  
  /* Responsive grid columns for tablet orientations */
  @media (min-width: 768px) and (max-width: 1024px) and (orientation: portrait) {
    .tablet-portrait-cols-1 {
      grid-template-columns: repeat(1, minmax(0, 1fr));
    }
    .tablet-portrait-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }
  
  @media (min-width: 768px) and (max-width: 1024px) and (orientation: landscape) {
    .tablet-landscape-cols-2 {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    .tablet-landscape-cols-3 {
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
  }
  
  /* Sticky positioning utilities */
  .sticky-top-nav {
    @apply sticky top-16 z-10;
  }
  
  .sticky-top-header {
    @apply sticky top-0 z-20;
  }
  
  /* Smooth scroll for containers */
  .smooth-scroll {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }
}